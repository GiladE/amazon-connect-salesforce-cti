"use strict";(self.webpackChunkamazon_connect_salesforce_cti=self.webpackChunkamazon_connect_salesforce_cti||[]).push([[3377],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),f=o,g=p["".concat(l,".").concat(f)]||p[f]||d[f]||i;return n?r.createElement(g,a(a({ref:t},u),{},{components:n})):r.createElement(g,a({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var s=2;s<i;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3919:function(e,t,n){function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!r(e)}n.d(t,{b:function(){return r},Z:function(){return o}})},4996:function(e,t,n){n.d(t,{C:function(){return i},Z:function(){return a}});var r=n(2263),o=n(3919);function i(){var e=(0,r.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var i=void 0===r?{}:r,a=i.forcePrependBaseUrl,c=void 0!==a&&a,l=i.absolute,s=void 0!==l&&l;if(!n)return n;if(n.startsWith("#"))return n;if((0,o.b)(n))return n;if(c)return t+n;var u=n.startsWith(t)?n:t+n.replace(/^\//,"");return s?e+u:u}(i,n,e,t)}}}function a(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},9649:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return d},default:function(){return f}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=n(4996),c=["components"],l={id:"09-recording-controls",title:"Recording Controls"},s=void 0,u={unversionedId:"lightning/cti-adapter/09-recording-controls",id:"lightning/cti-adapter/09-recording-controls",isDocsHomePage:!1,title:"Recording Controls",description:"Recording Controls panel in the CCP Overlay allows your agents to control the recording behavior of the call.",source:"@site/docs/lightning/03-cti-adapter/09-recording-controls.md",sourceDirName:"lightning/03-cti-adapter",slug:"/lightning/cti-adapter/09-recording-controls",permalink:"/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/09-recording-controls",editUrl:"https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/09-recording-controls.md",version:"current",sidebarPosition:9,frontMatter:{id:"09-recording-controls",title:"Recording Controls"},sidebar:"lightning",previous:{title:"CTI Actions",permalink:"/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/08-cti-actions"},next:{title:"Voicemail Drops",permalink:"/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/10-voicemail-drops"}},d=[{value:"Setup",id:"setup",children:[]},{value:"Synchronizing Recording State with Contact Attributes",id:"synchronizing-recording-state-with-contact-attributes",children:[]}],p={toc:d};function f(e){var t=e.components,n=(0,o.Z)(e,c);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Recording Controls panel in the CCP Overlay allows your agents to control the recording behavior of the call."),(0,i.kt)("img",{src:(0,a.Z)("/img/shared/ccp-overlay-5-recording.png")}),(0,i.kt)("p",null,"This can be useful when you don't want to record every call, and give the agent the ability to pause and resume a recording."),(0,i.kt)("p",null,"Note that once a recording is stopped, it cannot be restarted. After starting a recording, you should use pause/resume button to control it."),(0,i.kt)("p",null,"This panel is disabled by default. You can enable it by adding ",(0,i.kt)("inlineCode",{parentName:"p"},"FEATURE_RECORDING_PANEL")," feature flag to your CTI Adapter, with the setting ",(0,i.kt)("inlineCode",{parentName:"p"},"Enabled:true"),"."),(0,i.kt)("h2",{id:"setup"},"Setup"),(0,i.kt)("p",null,"First, create an IAM user and give it the managed policy ",(0,i.kt)("inlineCode",{parentName:"p"},"AmazonConnect_FullAccess"),"."),(0,i.kt)("img",{src:(0,a.Z)("/img/shared/ccp-overlay-7-iam.png")}),(0,i.kt)("p",null,'Copy the access key and secret of this user (from the "Security credentials" tab.) Next, go to your Salesforce instance Setup section. Search for Named Credentials in the left sidebar, and create a new credential named ',(0,i.kt)("inlineCode",{parentName:"p"},"AmazonConnectAPI"),". (The name and the label should be identical.)"),(0,i.kt)("img",{src:(0,a.Z)("/img/shared/ccp-overlay-6-named-credentials.png")}),(0,i.kt)("p",null,"Fill in ",(0,i.kt)("inlineCode",{parentName:"p"},"https://connect.us-east-1.amazonaws.com"),' as the url. For Identity Type, select "Named Principal" and for "Authentication Protocol" select "AWS Signature Version 4." Then fill in the "AWS Access Key Id" and "AWS Access Secret" fields with your IAM user credentials. And for AWS Region, use the region of your Connect instance. And for the AWS Service, fill in ',(0,i.kt)("inlineCode",{parentName:"p"},"connect"),"."),(0,i.kt)("h2",{id:"synchronizing-recording-state-with-contact-attributes"},"Synchronizing Recording State with Contact Attributes"),(0,i.kt)("p",null,"The Connect API does not provide a way for us to check that the recording has already been started when a call is answered. This may result in the UI panel falling out of sync with the actual state of the contact. If you have configured your contacts to be recorded automatically, using the Contact Flow, you must take care to add a contact attribute to indicate that:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Attribute Name: RECORDING_STARTED\nAttribute Value: true")),(0,i.kt)("p",null,"If you have configured this attribute, then the recording controls will be in sync with the recording state."))}f.isMDXComponent=!0}}]);