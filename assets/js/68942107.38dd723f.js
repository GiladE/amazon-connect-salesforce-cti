(self.webpackChunkamazon_connect_salesforce_cti=self.webpackChunkamazon_connect_salesforce_cti||[]).push([[5263],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return g},kt:function(){return u}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),r=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=r(e.components);return i.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,c=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),m=r(n),u=a,h=m["".concat(c,".").concat(u)]||m[u]||p[u]||s;return n?i.createElement(h,o(o({ref:t},g),{},{components:n})):i.createElement(h,o({ref:t},g))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var r=2;r<s;r++)o[r]=n[r];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3919:function(e,t,n){"use strict";function i(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!i(e)}n.d(t,{b:function(){return i},Z:function(){return a}})},4996:function(e,t,n){"use strict";n.d(t,{C:function(){return s},Z:function(){return o}});var i=n(2263),a=n(3919);function s(){var e=(0,i.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,s=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,i){var s=void 0===i?{}:i,o=s.forcePrependBaseUrl,l=void 0!==o&&o,c=s.absolute,r=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if((0,a.b)(n))return n;if(l)return t+n;var g=n.startsWith(t)?n:t+n.replace(/^\//,"");return r?e+g:g}(s,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,s().withBaseUrl)(e,t)}},76:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return r},metadata:function(){return g},toc:function(){return p},default:function(){return u}});var i=n(2122),a=n(9756),s=(n(7294),n(3905)),o=n(4996),l=["components"],c={id:"01-installing-the-amazon-connect-cti-adapter",title:"Installing the Amazon Connect CTI Adapter for Salesforce Package"},r=void 0,g={unversionedId:"classic/installation/01-installing-the-amazon-connect-cti-adapter",id:"classic/installation/01-installing-the-amazon-connect-cti-adapter",isDocsHomePage:!1,title:"Installing the Amazon Connect CTI Adapter for Salesforce Package",description:"Lightning Flow Setup Installation",source:"@site/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter.md",sourceDirName:"classic/02-installation",slug:"/classic/installation/01-installing-the-amazon-connect-cti-adapter",permalink:"/amazon-connect-salesforce-cti/docs/classic/installation/01-installing-the-amazon-connect-cti-adapter",editUrl:"https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter.md",version:"current",sidebarPosition:1,frontMatter:{id:"01-installing-the-amazon-connect-cti-adapter",title:"Installing the Amazon Connect CTI Adapter for Salesforce Package"},sidebar:"classic",previous:{title:"Key Benefits and Requirements",permalink:"/amazon-connect-salesforce-cti/docs/classic/introduction/01-key-benefits-and-requirements"},next:{title:"Installing the Amazon Connect Salesforce Lambda Package",permalink:"/amazon-connect-salesforce-cti/docs/classic/installation/02-installing-the-amazon-connect-salesforce-lambdas"}},p=[{value:"Lightning Flow Setup Installation",id:"lightning-flow-setup-installation",children:[]},{value:"Installing from the Salesforce AppExchange",id:"installing-from-the-salesforce-appexchange",children:[]},{value:"Create the Softphone Layout",id:"create-the-softphone-layout",children:[]},{value:"Set Access Permissions",id:"set-access-permissions",children:[{value:"AC_Administrator",id:"ac_administrator",children:[]},{value:"AC_Manager",id:"ac_manager",children:[]},{value:"AC_Agent",id:"ac_agent",children:[]}]},{value:"Configure Console Experience",id:"configure-console-experience",children:[]},{value:"Configure Classic Experience",id:"configure-classic-experience",children:[]}],m={toc:p};function u(e){var t=e.components,n=(0,a.Z)(e,l);return(0,s.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"lightning-flow-setup-installation"},"Lightning Flow Setup Installation"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Navigate to ",(0,s.kt)("strong",{parentName:"p"},"Service Setup")," within the Lightning UI under the gear\nicon.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Click ",(0,s.kt)("strong",{parentName:"p"},"View All"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Search for or select ",(0,s.kt)("strong",{parentName:"p"},"Add Phone Support"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Click ",(0,s.kt)("strong",{parentName:"p"},"Start")," on the ",(0,s.kt)("strong",{parentName:"p"},"Voice Setup")," screen")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Under ",(0,s.kt)("strong",{parentName:"p"},"Select Your Voice Provider"),", select Amazon Connect CTI\nAdapter")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Agree to the terms and conditions and click Install ",(0,s.kt)("strong",{parentName:"p"},"Package"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Under ",(0,s.kt)("strong",{parentName:"p"},"Add Voice Service Provider Details"),", add the URL to your\nAmazon Connect instance (see instructions below if you are unsure).\nYou will also need to allowlist your Salesforce domain within Amazon\nConnect.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Under ",(0,s.kt)("strong",{parentName:"p"},"Who's Answering the Phone?"),", select the name of the users\nyou would like to access the phone configuration. This can be\nmodified later under the Call Center configuration.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Click Finish. You can also launch the Amazon Connect Setup Guide."))),(0,s.kt)("h2",{id:"installing-from-the-salesforce-appexchange"},"Installing from the Salesforce AppExchange"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"Log in into your Salesforce instance and open ",(0,s.kt)("strong",{parentName:"li"},"Setup"),".")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image2.png")}),(0,s.kt)("ol",{start:2},(0,s.kt)("li",{parentName:"ol"},"Open the ",(0,s.kt)("a",{parentName:"li",href:"https://appexchange.salesforce.com/listingDetail?listingId=a0N3A00000EJH4yUAH"},"Amazon Connect CTI Package URL"),", then choose ",(0,s.kt)("strong",{parentName:"li"},"Install for Admins Only"),".")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image3.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image5.png")}),(0,s.kt)("ol",{start:3},(0,s.kt)("li",{parentName:"ol"},"Choose ",(0,s.kt)("strong",{parentName:"li"},"Done"),". The ",(0,s.kt)("strong",{parentName:"li"},"Installed Packages")," page opens.")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image6.png")}),(0,s.kt)("ol",{start:4},(0,s.kt)("li",{parentName:"ol"},"In the ",(0,s.kt)("strong",{parentName:"li"},"Quick Find")," box, type ",(0,s.kt)("em",{parentName:"li"},"Call Center"),", then choose ",(0,s.kt)("strong",{parentName:"li"},"Call Centers"),".")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image7.png")}),(0,s.kt)("p",null,"The Call Centers page opens. You should see 3 Call Center\nconfigurations: Classic, Console and Lightning."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image8.png")}),(0,s.kt)("h2",{id:"create-the-softphone-layout"},"Create the Softphone Layout"),(0,s.kt)("p",null,"Next, we need to create a softphone layout for the solution."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image9.png")}),(0,s.kt)("ol",{start:6},(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In the ",(0,s.kt)("strong",{parentName:"p"},"Quick Find")," box, type ",(0,s.kt)("em",{parentName:"p"},"Softphone Layouts"),", then choose ",(0,s.kt)("strong",{parentName:"p"},"Softphone Layouts"),".")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Choose ",(0,s.kt)("strong",{parentName:"p"},"New"),"."))),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image10.png")}),(0,s.kt)("ol",{start:8},(0,s.kt)("li",{parentName:"ol"},"Enter a name for the layout, such as ",(0,s.kt)("em",{parentName:"li"},"AmazonConnectDefault"),", then select the ",(0,s.kt)("strong",{parentName:"li"},"Is Default Layout")," checkbox.")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image11.png")}),(0,s.kt)("ol",{start:9},(0,s.kt)("li",{parentName:"ol"},'Expand "Display these salesforce.com objects" and select objects that CTI Connector should be able to search, for a screen-pop query. In this example, besides default selection, I\'m adding "Case", as I want to search and screen-pop by CaseID.')),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image12.png")}),(0,s.kt)("ol",{start:10},(0,s.kt)("li",{parentName:"ol"},"If necessary, configure the search behavior in the case that one or multiple records are found upon CTI search.")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image13.png")}),(0,s.kt)("ol",{start:11},(0,s.kt)("li",{parentName:"ol"},"In this example, keep the default configuration, then choose\n",(0,s.kt)("strong",{parentName:"li"},"Save"),".")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image14.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image15.png")}),(0,s.kt)("h2",{id:"set-access-permissions"},"Set Access Permissions"),(0,s.kt)("p",null,"All users must be assigned the required permission set to access the\nSalesforce metadata included in this package. The Amazon Connect CTI\nintegration package comes with two Permission Sets, one for agents and\none for managers, that grant the users all necessary access to use the\nsoftphone."),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Log in into your Salesforce Org.")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Navigate to ",(0,s.kt)("strong",{parentName:"p"},"Setup")," ",">"," ",(0,s.kt)("strong",{parentName:"p"},"Manage Users")," ",">"," ",(0,s.kt)("strong",{parentName:"p"},"Permission Sets"),"."))),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image16.png")}),(0,s.kt)("ol",{start:2},(0,s.kt)("li",{parentName:"ol"},"Choose ",(0,s.kt)("strong",{parentName:"li"},"AC_Manager"),".")),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image17.png")}),(0,s.kt)("ol",{start:3},(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Choose ",(0,s.kt)("strong",{parentName:"p"},"Manage Assignments"),".")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Choose ",(0,s.kt)("strong",{parentName:"p"},"Add Assignments"),".")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Select the users to assign the permissions, then choose ",(0,s.kt)("strong",{parentName:"p"},"Assign"),". More information on assigning user permissions can be found at: ",(0,s.kt)("a",{parentName:"p",href:"https://help.salesforce.com/articleView?id=perm_sets_mass_assign.htm&type=5"},"https://help.salesforce.com/articleView?id=perm_sets_mass_assign.htm&type=5")))),(0,s.kt)("h3",{id:"ac_administrator"},"AC_Administrator"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image18.png")}),(0,s.kt)("h3",{id:"ac_manager"},"AC_Manager"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image19.png")}),(0,s.kt)("h3",{id:"ac_agent"},"AC_Agent"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image20.png")}),(0,s.kt)("h2",{id:"configure-console-experience"},"Configure Console Experience"),(0,s.kt)("p",null,"For the Console experience, we are going to use Sample Console\napplication, but the procedure is the same for other applications."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image21.png")}),(0,s.kt)("p",null,'In the top navigation bar, select the "+" icon.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image22.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image23.png")}),(0,s.kt)("p",null,'Select "AC CTI Adapters"'),(0,s.kt)("p",null,'Create a new adapter. Fill in the CTI Adapter Name. For the Call Center Definition Name, type in\nACConsoleAdapter. For the Amazon Connect Instance, type in the login url to the instance (this can be found\nin the Amazon Connect Instance details page), removing everything after ".com".'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image328.png")}),(0,s.kt)("p",null,"Select Save."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image24.png")}),(0,s.kt)("p",null,"In the Quick Find field, type Visualforce Pages and select Visual Force\nPages:"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image25.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image26.png")}),(0,s.kt)("p",null,"As we are currently setting up the Console experience, click on\nAC_ConsoleAdapter page."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image27.png")}),(0,s.kt)("p",null,"Click on the ",(0,s.kt)("strong",{parentName:"p"},"Preview")," button. A new browser tab will open with the\nURL of this page. It's going to be in this format:"),(0,s.kt)("pre",null,"https://sfdcInstance--amazonconnect.visualforce.com/apex/AC_ConsoleAdapter"),(0,s.kt)("p",null,'This is what we are going to use as "Origin URL" in our Amazon Connect\nconfiguration. From AWS Console, select Amazon Connect service and then\nselect your Amazon Connect instance:'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image28.png")}),(0,s.kt)("p",null,'Select "Application Integration" on the left-hand side:'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image29.png")}),(0,s.kt)("p",null,'Click on "Add origin" link and enter the origin URL'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image30.png")}),(0,s.kt)("p",null,'Click "Add" button'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image31.png")}),(0,s.kt)("p",null,"From the Setup screen, type Apps in Quick Find field and select\nBuild",">","Create",">","Apps:"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image32.png")}),(0,s.kt)("p",null,"You will be able to see all applications that are available in your\naccount."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image33.png")}),(0,s.kt)("p",null,'Click "Edit" next to the Sample Console application.'),(0,s.kt)("p",null,'Scroll to the bottom of the page and "Assign to Profiles"'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image34.png")}),(0,s.kt)("p",null,"In this example, I'm assigning Sample console as Visible to System\nAdministrator."),(0,s.kt)("p",null,"Choose ",(0,s.kt)("strong",{parentName:"p"},"Save"),"."),(0,s.kt)("p",null,"From Setup, type Call Centers in the Quick Find field and select Call\nCenters."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image35.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image36.png")}),(0,s.kt)("p",null,'Select "Amazon Connect CCP Adapter Console 3.9"'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image37.png")}),(0,s.kt)("p",null,"Replace the ",(0,s.kt)("strong",{parentName:"p"},"CTI Adapter URL"),' with the AC Lightning Adapter visualforce page url you copied in the previous section.\nIf you wish to specify your version of the ccp user interface, add "?ccpVersion=x", where x is the version of the ccp\n(either 1 or 2). Click on the Save button.'),(0,s.kt)("p",null,'Click on the "Manage Call Center Users" button at the bottom of the\npage.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image38.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image39.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image40.png")}),(0,s.kt)("p",null,'Set filters and click on the Find button. Select the checkbox next to\nthe user and click "Add to Call Center" button.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image41.png")}),(0,s.kt)("p",null,"Repeat the steps to add more users."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image42.png")}),(0,s.kt)("p",null,"From the top-right corner, select Sample Console application."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image43.png")}),(0,s.kt)("p",null,"In the bottom-right corner, you will be able to see the Phone button."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image44.png")}),(0,s.kt)("p",null,"Click on the Phone button to open the softphone pop-up."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image45.png")}),(0,s.kt)("p",null,"You will need to Sign in into your Amazon Connect CCP. Click on the Sign\nin to CCP button. A new modal pop-up will show, asking you to enter your\ncredentials."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image46.png")}),(0,s.kt)("p",null,"Enter your credentials and click Sign in. Allow Microphone access (if\nasked by browser). Once login is successful, the pop-up window will\nautomatically close."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image47.png")}),(0,s.kt)("p",null,'Select "Change status" and select "Available".'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image48.png")}),(0,s.kt)("p",null,'Make an inbound phone call to your Amazon Connect instance. The CCP is\ngoing to "ring" and you can answer the call.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image49.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image50.png")}),(0,s.kt)("h2",{id:"configure-classic-experience"},"Configure Classic Experience"),(0,s.kt)("p",null,"The Salesforce Classic is the easiest to configure, but it has some\nlimitations. Most important limitation is that, with Classic layout,\nthere are no tabs and modal containers, so each time new object is\nselected, a full page reload occurs. This full reload causes softphone\nto be reloaded too, which could cause an issue in the voice call audio\nstream. Because of that, in the Classic environment, we have to run a\nseparate instance of softphone (CPP) which will carry the audio, while\nembedded instance of CCP can be used for call control and screen-pop\nfunctionality."),(0,s.kt)("p",null,"First, we have to configure Amazon Connect integration."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image21.png")}),(0,s.kt)("p",null,"From the top right corner, select the Sales application."),(0,s.kt)("p",null,'In the top navigation bar, select the "+" icon.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image22.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image23.png")}),(0,s.kt)("p",null,'Select "AC CTI Adapters"'),(0,s.kt)("p",null,'Create a new adapter. Fill in the CTI Adapter Name. For the Call Center Definition Name, type in\nACConsoleAdapter. For the Amazon Connect Instance, type in the login url to the instance (this can be found\nin the Amazon Connect Instance details page), removing everything after ".com".'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image328.png")}),(0,s.kt)("p",null,"Select Save."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image24.png")}),(0,s.kt)("p",null,"In the Quick Find field, type Visualforce Pages and select Visual Force\nPages:"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image25.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image26.png")}),(0,s.kt)("p",null,"As we are currently setting up the Classic experience, click on\nAC_ClassicAdapter page"),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image51.png")}),(0,s.kt)("p",null,"Click on the Preview button. New browser tab will open with the URL of\nthis page. It's going to be in this format:"),(0,s.kt)("pre",null,"https://sfdcInstance--amazonconnect.visualforce.com/apex/AC_ClassicAdapter"),(0,s.kt)("p",null,'This is what we are going to use as "Origin URL" in our Amazon Connect\nconfiguration. From AWS Console, select Amazon Connect service and then\nselect your Amazon Connect instance:'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image52.png")}),(0,s.kt)("p",null,'Select "Application Integration" on the left-hand side:'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image53.png")}),(0,s.kt)("p",null,'Click on "Add origin" link and enter the origin URL'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image54.png")}),(0,s.kt)("p",null,'Click "Add" button'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image55.png")}),(0,s.kt)("p",null,"From the Salesforce Classic layout, select Setup then type Call Centers\nin the Quick Find field and select Call Centers."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image35.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image36.png")}),(0,s.kt)("p",null,'Select "Amazon Connect CCP Adapter Classic 3.9"'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image56.png")}),(0,s.kt)("p",null,"Replace the ",(0,s.kt)("strong",{parentName:"p"},"CTI Adapter URL"),' with the AC Lightning Adapter visualforce page url you copied in the previous section.\nIf you wish to specify your version of the ccp user interface, add "?ccpVersion=x", where x is the version of the ccp\n(either 1 or 2). Click on the Save button.'),(0,s.kt)("p",null,'Click on the "Manage Call Center Users" button at the bottom of the\npage.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image38.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image57.png")}),(0,s.kt)("p",null,'Click on the "Add More Users" button.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image58.png")}),(0,s.kt)("p",null,'Set filters and click on the Find button. Select the checkbox next to\nthe user and click "Add to Call Center" button.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image59.png")}),(0,s.kt)("p",null,"Repeat the steps to add more users."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image60.png")}),(0,s.kt)("p",null,"From the top-right corner, select Sales application."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image21.png")}),(0,s.kt)("p",null,"On the left-hand side, you will be able to see the Phone container."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image61.png")}),(0,s.kt)("p",null,"You will need to Sign in into your Amazon Connect CCP. Click on the Sign\nin to CCP button. A new browser tab will open, asking you to enter your\ncredentials."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image62.png")}),(0,s.kt)("p",null,"Enter your credentials and click Sign in. Allow Microphone access (if\nasked by browser). Once Login is successful, the new tab with CCP will\nstay open, as this tab is going to carry the audio for voice calls."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image63.png")}),(0,s.kt)("p",null,"Switch back to Salesforce tab in your browser."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image64.png")}),(0,s.kt)("p",null,'Select "Change status" and select "Available".'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image65.png")}),(0,s.kt)("p",null,'Make an inbound phone call to your Amazon Connect instance. The CCP is\ngoing to "ring" and you can answer the call.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image66.png")}),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image67.png")}),(0,s.kt)("p",null,"Some CTI Flow features will reload the page the agent is currently on.\nThe page is fully reloaded, but the softphone preserved the audio\nstream, as another instance of CCP was running in the 2^nd^ tab. If the\n2nd tab is closed, the audio will be lost. The 2^nd^ CCP instance can\nalso run in a separate browser window, if preferred."),(0,s.kt)("p",null,"Go to Salesforce Setup page and type Call Centers in Quick Find, then\nselect Call Centers."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image68.png")}),(0,s.kt)("p",null,'Select "Amazon Connect CCP Classic"'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image69.png")}),(0,s.kt)("p",null,'Click on the Edit button and find the "Amazon Connect CCP Login Popup"\nfield. By default, this field is set to "false", which means that Login\nPopup will be opened in a 2nd tab. If we change this value to "true",\nthen Login Popup will be opened in a new browser window.'),(0,s.kt)("p",null,'You may also notice that "Amazon Connect CCP Medialess" field is set to\n"true". This basically means that embedded CCP instance will not carry\nany media. Set the value to "true" and click on the Save button. Go back\nto Sales application. If CCP is already logged in, please log out.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image70.png")}),(0,s.kt)("p",null,'Click on the "Sign in to CCP" button and new browser window will open,\nasking you for credentials.'),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image71.png")}),(0,s.kt)("p",null,"Enter your credentials and click Sign In. The CCP application will\nlogin, but popup window will stay open and it will host the 2^nd^ CCP\nwhich will carry the audio stream. This window can be minimized or moved\nto 2^nd^ screen."),(0,s.kt)("img",{src:(0,o.Z)("/img/classic/image72.png")}))}u.isMDXComponent=!0}}]);