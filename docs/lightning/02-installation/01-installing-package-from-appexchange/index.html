<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/amazon-connect-salesforce-cti/blog/rss.xml" title="Amazon Connect Salesforce CTI Adapter Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/amazon-connect-salesforce-cti/blog/atom.xml" title="Amazon Connect Salesforce CTI Adapter Blog Atom Feed"><title data-react-helmet="true">Installing CTI Adapter Managed Package from AppExchange | Amazon Connect Salesforce CTI Adapter</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installing CTI Adapter Managed Package from AppExchange | Amazon Connect Salesforce CTI Adapter"><meta data-react-helmet="true" name="description" content="The Amazon Connect CTI Adapter for Salesforce provides the core"><meta data-react-helmet="true" property="og:description" content="The Amazon Connect CTI Adapter for Salesforce provides the core"><meta data-react-helmet="true" property="og:url" content="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/02-installation/01-installing-package-from-appexchange"><link data-react-helmet="true" rel="shortcut icon" href="/amazon-connect-salesforce-cti/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/02-installation/01-installing-package-from-appexchange"><link rel="stylesheet" href="/amazon-connect-salesforce-cti/styles.58bbe32c.css">
<link rel="preload" href="/amazon-connect-salesforce-cti/styles.63fe7873.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/runtime~main.510d193a.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/main.f2de8fb7.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/1.248d282d.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/2.50de5ed5.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/64.1c62a108.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/65.b29e5dff.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/935f2afb.eecfa4f8.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/17896441.e5a93c90.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/ce4602c1.2230a606.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/amazon-connect-salesforce-cti/"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Amazon Connect Salesforce CTI Adapter</strong></a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Lightning</a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Classic</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/amazon-connect-salesforce-cti/"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Amazon Connect Salesforce CTI Adapter</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Lightning</a></li><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Classic</a></li><li class="menu__list-item"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Notices</a></li><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/release-notes">Release Notes</a></li><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/01-introduction/01-key-benefits">Key Benefits and Requirements</a></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Installation</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/02-installation/01-installing-package-from-appexchange">Installing CTI Adapter Managed Package from AppExchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/02-installation/02-installing-salesforce-lambdas">Installing the Amazon Connect Salesforce Lambda Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/02-installation/03-upgrading-from-an-earlier-version">Upgrading from an Earlier Version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/02-installation/04-adapter-installation-troubleshooting">CTI Adapter Installation Troubleshooting and Common Issues</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">CTI Adapter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/01-cti-adapter-configuration">CTI Adapter Details</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/02-cti-attributes">CTI Attributes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/03-cti-flows">CTI Flow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/04-presence-sync-rules">Presence Sync Rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/05-localization">Localization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/06-set-agent-status-on-session-end">Set Agent Status on Session End</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/07-contact-lens">Contact Lens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/08-cti-actions">CTI Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/09-recording-controls">Recording Controls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/10-voicemail-drops">Voicemail Drops</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Salesforce Lambdas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/01-contact-flow-salesforce-lambdas">Accessing the Salesforce API from Amazon Connect Contact Flows Using AWS Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/02-historical-metrics">Amazon Connect Historical Metrics in Salesforce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/03-real-time-metrics">Amazon Connect Real-Time Metrics in Salesforce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/04-contact-channel-analytics">Contact Channel Analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/05-contact-trace-record-import">Contact Trace Record Import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/06-postcall-contact-lens-import">Postcall Contact Lens Import</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Appendices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-" tabindex="0">Appendix A: Required Salesforce Configurations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-a-required-salesforce-configurations/01-configuring-my-domain">Configuring My Domain in Salesforce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-a-required-salesforce-configurations/02-configure-salesforce-omnichannel">Configure Salesforce Omnichannel for Testing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-b-configuring-salesforce-as-your-identity-provider/01-configuration">Appendix B: Configuring Salesforce as Your Identity Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-c-cti-flow-sources-and-events/01-cti-flow-sources-and-events">Appendix C: CTI Flow Sources and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-d-cti-flow-examples/01-cti-flow-examples">Appendix D: CTI Flow Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-e-salesforce-high-velocity-sales/01-high-velocity-sales">Appendix E: Integration with Salesforce High Velocity Sales</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/05-appendices/appendix-f-cti-flow-blocks/01-cti-flow-blocks">Appendix F: CTI Flow Blocks</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Installing CTI Adapter Managed Package from AppExchange</h1></header><div class="markdown"><p>The Amazon Connect CTI Adapter for Salesforce provides the core
integration between the two platforms. It embeds the Amazon Connect
Contact Control Panel into Salesforce which provides telephony control
as well as access to event data coming from Amazon Connect. Using this
adapter, you can configure screen pops based on customer data, automate
contact center telephony functions like click-to-dial, and establish
presence syncing rules for integration with Salesforce Omni-Channel.
This is the base of the integration.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installing-the-package"></a>Installing the Package<a class="hash-link" href="#installing-the-package" title="Direct link to heading">#</a></h3><p>The first step in the deployment of the integration is to install the
Amazon Connect CTI Adapter managed package from the AppExchange
Marketplace.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>In the <strong>Quick Find</strong>, type <strong>AppExchange</strong> (the results will
populate without hitting enter)</p></li><li><p>Select <strong>AppExchange Marketplace</strong> from the links provided</p></li><li><p>In the AppExchange window, enter <strong>Amazon Connect</strong> into the
<strong>Search AppExchange</strong> field and press enter</p></li><li><p>In the <strong>Search Results</strong>, select <strong>Amazon Connect CTI Adapter</strong></p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image3.png"><ol start="6"><li>On the <strong>Amazon Connect CTI Adapter</strong> detail page, select <strong>Get It
Now</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image4.png"><ol start="7"><li>If you are presented with the Log In to AppExchange screen, select
<strong>Open Login Screen</strong>. You should then be presented with an Allow
Access Screen. Choose <strong>Allow</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image5.png"><ol start="8"><li>On the <strong>Where do you want to installÂ Amazon Connect CTI Adapter</strong>
page, choose the <strong>Install Here</strong> button in the Install in This Org
section</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image6.png"><ol start="9"><li>On the <strong>Confirm installation details</strong> screen, fill out the <strong>Tell
us about yourself</strong> form, check the box to <strong>agree with the terms
and conditions</strong>, and optionally select the box to <strong>allow the
provider to contact you</strong>. Then select <strong>Confirm and Install</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image7.png"><ol start="10"><li>Select <strong>Install for Admins Only</strong>, then choose <strong>Install</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image8.png"><ol start="11"><li><p>The CTI Adapter will take some time to install. While it installs,
you will be presented with the <strong>This app is taking a long time to
install screen.</strong></p></li><li><p>Choose <strong>Done</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image9.png"><ol start="13"><li><p>Once you receive confirmation that the <strong>installation has
completed</strong> via email, return to the browser</p></li><li><p>Close the <strong>Amazon Connect CTI Adapter</strong> detail page (if still open)</p></li><li><p>In Quick Find, enter <strong>Installed</strong>, then select Installed Packages
from the result</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image10.png"><ol start="16"><li>Once the <strong>Installed Packages</strong> page opens, validate that the
<strong>Amazon Connect -- Universal Package</strong> is installed</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image11.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="set-access-permissions"></a>Set Access Permissions<a class="hash-link" href="#set-access-permissions" title="Direct link to heading">#</a></h3><p>All users must be assigned the required permission set to access
Salesforce metadata. The Amazon Connect CTI Adapter includes two
Permission Sets, one for agents and one for managers, that grant users
the appropriate access for their role. More information on assigning
user permissions can be found in the <a href="https://help.salesforce.com/articleView?id=perm_sets_mass_assign.htm&amp;type=5" target="_blank" rel="noopener noreferrer">Salesforce help
documentation</a>.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>In <strong>Quick Find</strong>, enter <strong>Permission</strong> and select <strong>Permission
Sets</strong> from the results</p></li><li><p>Choose <strong>AC_Administrator</strong>, <strong>AC_Agent</strong> or <strong>AC_Manager</strong> as
appropriate for the user(s)</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image12.png"><ol start="4"><li><p>Choose <strong>Manage Assignments</strong>.</p></li><li><p>Choose <strong>Add Assignments</strong>.</p></li><li><p>Select the users to assign the permissions, then choose <strong>Assign</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image13.png"><ol start="7"><li>Repeat these steps as needed for all users</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_administrator"></a>AC_Administrator<a class="hash-link" href="#ac_administrator" title="Direct link to heading">#</a></h4><img src="/amazon-connect-salesforce-cti/img/lightning/image14.png"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_manager"></a>AC_Manager<a class="hash-link" href="#ac_manager" title="Direct link to heading">#</a></h4><img src="/amazon-connect-salesforce-cti/img/lightning/image15.png"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_agent"></a>AC_Agent<a class="hash-link" href="#ac_agent" title="Direct link to heading">#</a></h4><img src="/amazon-connect-salesforce-cti/img/lightning/image16.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configure-the-lightning-experience"></a>Configure the Lightning Experience<a class="hash-link" href="#configure-the-lightning-experience" title="Direct link to heading">#</a></h3><p>In this guide, we will configure the CTI Adapter for Service Console
(Lightning Experience). You may use the same procedure described in this
section for other applications.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configure-service-console"></a>Configure Service Console<a class="hash-link" href="#configure-service-console" title="Direct link to heading">#</a></h4><p>First, you need to add the CTI softphone to your Service Console.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>In the <strong>Quick Find</strong> box, type <strong>App Manager</strong>, then choose <strong>App
Manager</strong> from the result list.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image17.png"><ol start="3"><li>Expand the drop-down menu associated to Service Console and select
<strong>Edit</strong>.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image18.png"><ol start="4"><li>Once the <strong>Lightning App Builder</strong> opens, select <strong>Utility Items</strong>
from the left Navigation</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image19.png"><ol start="5"><li>Choose <strong>Add Utility Item</strong>, then select <strong>Open CTI Softphone</strong>.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image20.png"><ol start="6"><li>Change the Label, if desired, then choose <strong>Save</strong>.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="allowlist-your-salesforce-org-with-amazon-connect"></a>Allowlist Your Salesforce Org with Amazon Connect<a class="hash-link" href="#allowlist-your-salesforce-org-with-amazon-connect" title="Direct link to heading">#</a></h4><p>In order to embed the Amazon Connect Contact Control Panel (CCP) into
your Service Console, you need to allowlist two (2) domains for your org
with Amazon Connect. This allows for cross domain access to the
underlying resources required for the CCP to function.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>Copy the entire URL of this page and past it to a text document.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image21.png"><ol start="3"><li>In the <strong>Quick Find</strong> field, type <strong>visual</strong>, then select <strong>Visual
Force Pages</strong> from the results</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image22.png"><ol start="4"><li>Choose the <strong>AC_LightningAdapter</strong> Visualforce page</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image23.png"><ol start="5"><li>On the Visualforce detail page, select the <strong>Preview</strong> button. This
will open a new browser tab showing the page content, which should
only be a button labelled Sign in to CCP. Copy the entire URL of
this page and past it to a text document.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image24.png"><ol start="6"><li><p>In a new browser tab, login to the <a href="https://console.aws.amazon.com/" target="_blank" rel="noopener noreferrer"><strong>AWS
console</strong></a></p></li><li><p>Navigate to the <a href="https://console.aws.amazon.com/connect/home" target="_blank" rel="noopener noreferrer">Amazon Connect
Console</a></p></li><li><p>Validate that you are in the correct <strong>AWS region</strong> for your
instance, then select your instance alias from the list of
instances</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image25.png"><ol start="9"><li><p>Choose <strong>Application Integration</strong> from the left navigation</p></li><li><p>Select + Add origin</p></li><li><p>In the Enter origin URL field, enter the URL of the page that you
copied in step 2. Only enter the url through the .com, for example:</p><div class="mdxCodeBlock_1zKU">https://XXXXXXXX-dev-ed-.lightning.force.com</div></li><li><p>Select Add. You should see your org domain listed in the Approved
origins section.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image26.png"><ol start="13"><li><p>Select + Add origin</p></li><li><p>In the Enter origin URL field, enter the URL of the visualforce page
that you copied in step 5. Only enter the url through the .com, for
example:</p><div class="mdxCodeBlock_1zKU">https://XXXXXXXX-dev-ed--amazonconnect.visualforce.com</div></li><li><p>Select Add. You should see your org domain listed in the Approved
origins section</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image27.png"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modify-the-call-center"></a>Modify the Call Center<a class="hash-link" href="#modify-the-call-center" title="Direct link to heading">#</a></h4><p>Now that you have allowlisted the org in the Amazon Connect Console, you
will need to modify the Call Center that was configured in Salesforce
when the AppExchange package was installed. Once you complete the
configuration, you add users to the Call Center to provide access to it.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>In the <strong>Quick Find</strong> field, enter <strong>Call Center</strong>, then select
<strong>Call Centers</strong> from the result list</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image28.png"><ol start="3"><li><p>If you see the <strong>Say Hello to Salesforce Call Center</strong> page, select
<strong>Continue</strong></p></li><li><p>Select <strong>AC Lightning Adapter</strong></p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image29.png"><ol start="5"><li><p>On the <strong>AC Lightning Adapter</strong> detail page, select <strong>Edit</strong></p></li><li><p>Replace the <strong>CTI Adapter URL</strong> with the AC Lightning Adapter visualforce page url you copied in the previous section.</p></li><li><p>Next, change the values for <strong>Softphone Height</strong> <strong>to 570</strong> and the
<strong>Softphone Width to 330</strong>, and choose <strong>Save.</strong></p></li><li><p>Once you return to the AC Lightning Adapter detail page, choose
<strong>Manage Call Center Users</strong> in the Call Center Users section</p></li><li><p>On the <strong>AC Lightning Adapter: Manage Users</strong> page, select <strong>Add
More Users</strong>.</p></li><li><p>Set filters (if desired) and then choose <strong>Find</strong>.</p></li><li><p>Select the checkbox next to the user to add, then choose <strong>Add to
Call Center</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image30.png"><ol start="12"><li>Repeat the steps to add more users.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configure-the-toolkit-settings"></a>Configure the Toolkit settings<a class="hash-link" href="#configure-the-toolkit-settings" title="Direct link to heading">#</a></h4><ol><li>Navigate to <strong>Setup</strong> then in type <strong>Custom Settings</strong> in Quick
Find</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image31.png"><ol start="2"><li>Next to the Toolkit for Amazon Connect custom setting, choose
<strong>Manage</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image32.png"><ol start="3"><li>Select <strong>New</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image33.png"><ol start="4"><li>On the following page, provide the URL to your Amazon Connect
instance. The value of the URL field would be in the form of:<div class="mdxCodeBlock_1zKU">https://your-instance-alias.awsapps.com</div></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image34.png"><p>You will also see the option to enable and disable certain
triggers in the package, which you can configure to meet your needs. You
can change these whenever you would like to. For more details, see the troubleshooting section. </p><ol start="5"><li>Select <strong>Save</strong></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="create-the-softphone-layout"></a>Create the Softphone Layout<a class="hash-link" href="#create-the-softphone-layout" title="Direct link to heading">#</a></h4><p>Next, we need to create a softphone layout for the solution. The
softphone layout settings will tell the console what resources are
available for screenpop by default and what to do under different match
conditions.</p><ol><li><p>Log in into your Salesforce org and go to <strong>Setup</strong></p></li><li><p>In the <strong>Quick Find</strong> box, type <strong>Softphone</strong>, then choose
<strong>Softphone Layouts</strong> from the results</p></li><li><p>If you are presented with the Get Started message, choose
<strong>Continue</strong></p></li><li><p>On the Softphone Layouts page, choose <strong>New</strong></p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image35.png"><ol start="5"><li>Enter a name for the layout, such as <strong>AmazonConnectDefault</strong>, then
select the <strong>Is Default Layout</strong> checkbox.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image36.png"><ol start="6"><li>Expand <strong>Display these salesforce.com objects</strong> and select objects
that CTI Connector should be able to search, for a screen-pop query.
In this example, Case has been added to the default selection,
allowing search and screen-pop by CaseID.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image37.png"><ol start="7"><li>If desired, configure the search behavior to your requirements</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image38.png"><ol start="8"><li>Additionally, validate the Screen Pop settings. Please note that the
default behavior is to not pop a screen if there is more than one
result</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image39.png"><ol start="9"><li>Once you have configured the search behavior, choose <strong>Save</strong></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="initial-cti-adapter-configuration"></a>Initial CTI Adapter Configuration<a class="hash-link" href="#initial-cti-adapter-configuration" title="Direct link to heading">#</a></h3><p>Once we have setup the Call Center, we need to do a final configuration
of the CTI Adapter before we can test the basic configuration. This will
tie the Lightning CTI adapter settings to the Call Center.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-the-cti-adapter-console-app"></a>Add the CTI Adapter Console App<a class="hash-link" href="#add-the-cti-adapter-console-app" title="Direct link to heading">#</a></h4><ol><li><p>Log in into your Salesforce org and go to the <strong>Service Console</strong></p></li><li><p>Expand the <strong>navigation menu</strong> by selecting the down arrow and
choose <strong>Edit</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image40.png"><ol start="3"><li>On the Edit Service Console App Navigation Items page, select <strong>Add
More Items</strong></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image41.png"><ol start="4"><li>Select the <strong>+</strong> next to <strong>AC CTI Adapters</strong> and select the <strong>Add 1
Nav Item</strong> button</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image42.png"><ol start="5"><li><p>If desired, move the <strong>AC CTI Adapters</strong> button up in the navigation
Items menu by dragging it up or down the list, then choose <strong>Save</strong>
to save changes</p></li><li><p>Select <strong>AC CTI Adapters</strong> from navigation menu</p></li><li><p>If Recently Viewed is selected, select the drop-down and select
<strong>All</strong> from the List Views menu.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image43.png"><ol start="8"><li><p>If no ACLightningAdapter entry exists, then select the new button to
configure your AC CTI adapters, otherwise select the
<strong>ACLightningAdapter</strong></p></li><li><p>Fill out or confirm the Details as follows:</p></li><li><p>CTI Adapter Name: <strong>ACLightningAdapter</strong></p></li><li><p>Amazon Connect Instance: The url of your Amazon Connect
Instance. You can find this in the Amazon Connect Console as shown
below (remove everything after &quot;.com&quot;):</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image44.png"><ol start="12"><li><p>Amazon Connect Instance Region: This is the region that your Amazon
Connect instance is deployed in. For this field, you will enter the
region code. For example, if you have deployed your Amazon Connect
instance in US East (N. Virginia), you would enter us-east-1. For a
list of region codes, please refer to the <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer">AWS Service
Endpoints</a>
reference</p></li><li><p>Call Center Definition Name: <strong>ACLightningAdapter
Note:</strong> This is the value of the Internal Name in the call center in
the Call Center definition</p></li><li><p>Leave all other settings at the default for now, and choose Save</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image45.png"><ol start="15"><li><p><strong>Refresh</strong> the browser</p></li><li><p>In the bottom left corner of the Service Console, select the CTI
Softphone icon</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image46.png"><ol start="17"><li>Select the <strong>Sign in to CCP</strong> button. A new window will pop up.
Enter your Amazon Connect login credentials and select <strong>Sign In</strong>.
Make sure to allow Microphone access (if asked by browser)
<strong>NOTE:</strong> At this point, this process will only work for Amazon
Connect instances configured for local user storage. If you are
configuring SAML, please follow the SAML setup process in the
<a href="/amazon-connect-salesforce-cti/docs/lightning/03-cti-adapter/01-cti-adapter-configuration#single-sign-on-settings">Single Sign On Settings</a> section before
continuing.</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image47.png"><ol start="18"><li><p>Once Login is successful, the pop-up window will automatically
close.</p></li><li><p>Expand the status menu and choose Available</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image48.png"><ol start="20"><li>Make an inbound phone call to your Amazon Connect instance. The CCP
will alert you to the incoming call and allow you to accept it. Once
you do, the call will be connected</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image49.png"><img src="/amazon-connect-salesforce-cti/img/lightning/image50.png"><ol start="21"><li><p><strong>End the call</strong> and clear the contact</p></li><li><p>Set your agent back to <strong>Available</strong></p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="enhanced-agent-logout"></a>Enhanced Agent Logout<a class="hash-link" href="#enhanced-agent-logout" title="Direct link to heading">#</a></h4><p>You can configure an agent status within &quot;Manage agent status&quot; with
&quot;Logout&quot; (case-sensitive) in the status name to enable enhanced agent
logout. When the agent selects that logout status in the Contact Control
Panel, it will first set the agent in an offline status. It will then
logout the agent in Connect and the AWS Console. Here is an example of
the agent status configured within Connect:</p><img src="/amazon-connect-salesforce-cti/img/lightning/image51.png"><p>Here is an example of an agent selecting the &quot;Logout&quot; status within the
Contact Control Panel:</p><img src="/amazon-connect-salesforce-cti/img/lightning/image52.png"><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="validate-basic-screenpop"></a>Validate Basic Screenpop<a class="hash-link" href="#validate-basic-screenpop" title="Direct link to heading">#</a></h4><p>Next, we will add a contact to Salesforce that has your phone number
assigned to it. This will allow us to validate the basic screenpop
functionality that is provided with the CTI adapter.</p><ol><li>Select <strong>Contacts</strong> from the dropdown menu</li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image53.png"><ol start="2"><li><p>Select <strong>New</strong> from top-right corner</p></li><li><p>Complete the required fields. Make sure that your phone number is
entered for the Phone field.</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image54.png"><ol start="4"><li><p>Select <strong>Save</strong></p></li><li><p>Close the Contact tab by selecting the X next to the name of the
contact that you just created</p></li></ol><img src="/amazon-connect-salesforce-cti/img/lightning/image55.png"><ol start="6"><li><p><strong>Refresh</strong> your browser</p></li><li><p>Place another phone <strong>call</strong> into your instance</p></li><li><p>The new contact should automatically pop-up as it has been
recognized by incoming phone number.</p></li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/lightning/02-installation/01-installing-package-from-appexchange.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/amazon-connect-salesforce-cti/docs/lightning/01-introduction/01-key-benefits"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Key Benefits and Requirements</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/amazon-connect-salesforce-cti/docs/lightning/02-installation/02-installing-salesforce-lambdas"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installing the Amazon Connect Salesforce Lambda Package Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installing-the-package" class="table-of-contents__link">Installing the Package</a></li><li><a href="#set-access-permissions" class="table-of-contents__link">Set Access Permissions</a></li><li><a href="#configure-the-lightning-experience" class="table-of-contents__link">Configure the Lightning Experience</a></li><li><a href="#initial-cti-adapter-configuration" class="table-of-contents__link">Initial CTI Adapter Configuration</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/amazon-connect-salesforce-cti/styles.63fe7873.js"></script>
<script src="/amazon-connect-salesforce-cti/runtime~main.510d193a.js"></script>
<script src="/amazon-connect-salesforce-cti/main.f2de8fb7.js"></script>
<script src="/amazon-connect-salesforce-cti/1.248d282d.js"></script>
<script src="/amazon-connect-salesforce-cti/2.50de5ed5.js"></script>
<script src="/amazon-connect-salesforce-cti/64.1c62a108.js"></script>
<script src="/amazon-connect-salesforce-cti/65.b29e5dff.js"></script>
<script src="/amazon-connect-salesforce-cti/935f2afb.eecfa4f8.js"></script>
<script src="/amazon-connect-salesforce-cti/17896441.e5a93c90.js"></script>
<script src="/amazon-connect-salesforce-cti/ce4602c1.2230a606.js"></script>
</body>
</html>