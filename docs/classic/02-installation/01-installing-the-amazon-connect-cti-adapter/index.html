<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/amazon-connect-salesforce-cti-staging/blog/rss.xml" title="Amazon Connect Salesforce CTI Adapter Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/amazon-connect-salesforce-cti-staging/blog/atom.xml" title="Amazon Connect Salesforce CTI Adapter Blog Atom Feed"><title data-react-helmet="true">Installing the Amazon Connect CTI Adapter for Salesforce Package | Amazon Connect Salesforce CTI Adapter</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installing the Amazon Connect CTI Adapter for Salesforce Package | Amazon Connect Salesforce CTI Adapter"><meta data-react-helmet="true" name="description" content="Lightning Flow Setup Installation"><meta data-react-helmet="true" property="og:description" content="Lightning Flow Setup Installation"><meta data-react-helmet="true" property="og:url" content="https://amazon-connect.github.io/amazon-connect-salesforce-cti-staging//amazon-connect-salesforce-cti-staging/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter"><link data-react-helmet="true" rel="shortcut icon" href="/amazon-connect-salesforce-cti-staging/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti-staging//amazon-connect-salesforce-cti-staging/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter"><link rel="stylesheet" href="/amazon-connect-salesforce-cti-staging/styles.58bbe32c.css">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/styles.63fe7873.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/runtime~main.23cd4c62.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/main.96c03511.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/1.248d282d.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/2.114b150d.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/64.f255480a.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/65.b29e5dff.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/935f2afb.ac0f6373.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/17896441.1a1be381.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti-staging/68942107.5c849b8a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/amazon-connect-salesforce-cti-staging/"><img src="/amazon-connect-salesforce-cti-staging/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/amazon-connect-salesforce-cti-staging/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Amazon Connect Salesforce CTI Adapter</strong></a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti-staging/docs/lightning/notices">Lightning</a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/notices">Classic</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/tree/main/pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PDF</a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/amazon-connect-salesforce-cti-staging/"><img src="/amazon-connect-salesforce-cti-staging/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/amazon-connect-salesforce-cti-staging/img/logo.svg" alt="Amazon Connect Salesforce CTI Adapter" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Amazon Connect Salesforce CTI Adapter</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti-staging/docs/lightning/notices">Lightning</a></li><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/notices">Classic</a></li><li class="menu__list-item"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/tree/main/pdf" target="_blank" rel="noopener noreferrer" class="menu__link">PDF</a></li><li class="menu__list-item"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/notices">Notices</a></li><li class="menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/release-notes">Release Notes</a></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/01-introduction/01-key-benefits-and-requirements">Key Benefits and Requirements</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Installation</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter">Installing the Amazon Connect CTI Adapter for Salesforce Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/02-installation/02-installing-the-amazon-connect-salesforce-lambdas">Installing the Amazon Connect Salesforce Lambda Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/02-installation/03-upgrading-from-an-earlier-version">Upgrading from an Earlier Version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/02-installation/04-cti-adapter-installation-troubleshooting">CTI Adapter Installation Troubleshooting and Common Issues</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">CTI Adapter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/01-cti-adapter-configuration">CTI Adapter Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/02-omnipresence-agent-state-sync">Omnipresence Agent State Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/03-contact-attributes-display">Contact Attributes Display</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/04-call-recording-link-for-task">Call Recording Link for Task</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/05-call-display-account-page">Call Display on the Account Page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/06-outbound-campaign-calls">Outbound Campaign Calls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/07-amazon-connect-reports">Amazon Connect Reports in Salesforce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/08-cti-flows">CTI Flows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/09-localization">Localization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/10-cti-actions">CTI Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/03-cti-adapter/11-recording-controls">Recording Controls</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Salesforce Lambdas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/04-salesforce-lambdas/01-contact-flow-salesforce-lambdas">Invoking the Amazon Connect Salesforce Lambda in a Contact Flow</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Appendices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/05-appendices/01-appendix-a-cti-flow-sources-and-events/01-cti-flow-sources-and-events">Appendix A: CTI Flow Sources and Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/05-appendices/02-appendix-b-configuring-salesforce-as-your-identity-provider/01-configuring-salesforce-as-your-identity-provider">Appendix B: Configuring Salesforce as Your Identity Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/05-appendices/03-appendix-c-cti-flow-examples/01-cti-flow-examples">Appendix C: CTI Flow Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti-staging/docs/classic/05-appendices/04-appendix-d-cti-flow-blocks/01-cti-flow-blocks">Appendix D: CTI Flow Blocks</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Installing the Amazon Connect CTI Adapter for Salesforce Package</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="lightning-flow-setup-installation"></a>Lightning Flow Setup Installation<a class="hash-link" href="#lightning-flow-setup-installation" title="Direct link to heading">#</a></h2><ol><li><p>Navigate to <strong>Service Setup</strong> within the Lightning UI under the gear
icon.</p></li><li><p>Click <strong>View All</strong></p></li><li><p>Search for or select <strong>Add Phone Support</strong></p></li><li><p>Click <strong>Start</strong> on the <strong>Voice Setup</strong> screen</p></li><li><p>Under <strong>Select Your Voice Provider</strong>, select Amazon Connect CTI
Adapter</p></li><li><p>Agree to the terms and conditions and click Install <strong>Package</strong></p></li><li><p>Under <strong>Add Voice Service Provider Details</strong>, add the URL to your
Amazon Connect instance (see instructions below if you are unsure).
You will also need to allowlist your Salesforce domain within Amazon
Connect.</p></li><li><p>Under <strong>Who&#x27;s Answering the Phone?</strong>, select the name of the users
you would like to access the phone configuration. This can be
modified later under the Call Center configuration.</p></li><li><p>Click Finish. You can also launch the Amazon Connect Setup Guide.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installing-from-the-salesforce-appexchange"></a>Installing from the Salesforce AppExchange<a class="hash-link" href="#installing-from-the-salesforce-appexchange" title="Direct link to heading">#</a></h2><ol><li>Log in into your Salesforce instance and open <strong>Setup</strong>.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image2.png"><ol start="2"><li>Open the <a href="https://appexchange.salesforce.com/listingDetail?listingId=a0N3A00000EJH4yUAH" target="_blank" rel="noopener noreferrer">Amazon Connect CTI Package URL</a>, then choose <strong>Install for Admins Only</strong>.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image3.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image5.png"><ol start="3"><li>Choose <strong>Done</strong>. The <strong>Installed Packages</strong> page opens.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image6.png"><ol start="4"><li>In the <strong>Quick Find</strong> box, type <em>Call Center</em>, then choose <strong>Call Centers</strong>.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image7.png"><p>The Call Centers page opens. You should see 3 Call Center
configurations: Classic, Console and Lightning.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image8.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="create-the-softphone-layout"></a>Create the Softphone Layout<a class="hash-link" href="#create-the-softphone-layout" title="Direct link to heading">#</a></h2><p>Next, we need to create a softphone layout for the solution.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image9.png"><ol start="6"><li><p>In the <strong>Quick Find</strong> box, type <em>Softphone Layouts</em>, then choose <strong>Softphone Layouts</strong>.</p></li><li><p>Choose <strong>New</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image10.png"><ol start="8"><li>Enter a name for the layout, such as <em>AmazonConnectDefault</em>, then select the <strong>Is Default Layout</strong> checkbox.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image11.png"><ol start="9"><li>Expand &quot;Display these salesforce.com objects&quot; and select objects that CTI Connector should be able to search, for a screen-pop query. In this example, besides default selection, I&#x27;m adding &quot;Case&quot;, as I want to search and screen-pop by CaseID.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image12.png"><ol start="10"><li>If necessary, configure the search behavior in the case that one or multiple records are found upon CTI search.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image13.png"><ol start="11"><li>In this example, keep the default configuration, then choose
<strong>Save</strong>.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image14.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image15.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="set-access-permissions"></a>Set Access Permissions<a class="hash-link" href="#set-access-permissions" title="Direct link to heading">#</a></h2><p>All users must be assigned the required permission set to access the
Salesforce metadata included in this package. The Amazon Connect CTI
integration package comes with two Permission Sets, one for agents and
one for managers, that grant the users all necessary access to use the
softphone.</p><ol><li><p>Log in into your Salesforce Org.</p></li><li><p>Navigate to <strong>Setup</strong> &gt; <strong>Manage Users</strong> &gt; <strong>Permission Sets</strong>.</p></li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image16.png"><ol start="2"><li>Choose <strong>AC_Manager</strong>.</li></ol><img src="/amazon-connect-salesforce-cti-staging/img/classic/image17.png"><ol start="3"><li><p>Choose <strong>Manage Assignments</strong>.</p></li><li><p>Choose <strong>Add Assignments</strong>.</p></li><li><p>Select the users to assign the permissions, then choose <strong>Assign</strong>. More information on assigning user permissions can be found at: <a href="https://help.salesforce.com/articleView?id=perm_sets_mass_assign.htm&amp;type=5" target="_blank" rel="noopener noreferrer">https://help.salesforce.com/articleView?id=perm_sets_mass_assign.htm&amp;type=5</a></p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_administrator"></a>AC_Administrator<a class="hash-link" href="#ac_administrator" title="Direct link to heading">#</a></h3><img src="/amazon-connect-salesforce-cti-staging/img/classic/image18.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_manager"></a>AC_Manager<a class="hash-link" href="#ac_manager" title="Direct link to heading">#</a></h3><img src="/amazon-connect-salesforce-cti-staging/img/classic/image19.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ac_agent"></a>AC_Agent<a class="hash-link" href="#ac_agent" title="Direct link to heading">#</a></h3><img src="/amazon-connect-salesforce-cti-staging/img/classic/image20.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configure-console-experience"></a>Configure Console Experience<a class="hash-link" href="#configure-console-experience" title="Direct link to heading">#</a></h2><p>For the Console experience, we are going to use Sample Console
application, but the procedure is the same for other applications.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image21.png"><p>In the top navigation bar, select the &quot;+&quot; icon.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image22.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image23.png"><p>Select &quot;AC CTI Adapters&quot;</p><p>Create a new adapter. Fill in the CTI Adapter Name. For the Call Center Definition Name, type in
ACConsoleAdapter. For the Amazon Connect Instance, type in the login url to the instance (this can be found
in the Amazon Connect Instance details page), removing everything after &quot;.com&quot;.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image328.png"><p>Select Save.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image24.png"><p>In the Quick Find field, type Visualforce Pages and select Visual Force
Pages:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image25.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image26.png"><p>As we are currently setting up the Console experience, click on
AC_ConsoleAdapter page.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image27.png"><p>Click on the <strong>Preview</strong> button. A new browser tab will open with the
URL of this page. It&#x27;s going to be in this format:</p><div class="mdxCodeBlock_1zKU">https://sfdcInstance--amazonconnect.visualforce.com/apex/AC_ConsoleAdapter</div><p>This is what we are going to use as &quot;Origin URL&quot; in our Amazon Connect
configuration. From AWS Console, select Amazon Connect service and then
select your Amazon Connect instance:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image28.png"><p>Select &quot;Application Integration&quot; on the left-hand side:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image29.png"><p>Click on &quot;Add origin&quot; link and enter the origin URL</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image30.png"><p>Click &quot;Add&quot; button</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image31.png"><p>From the Setup screen, type Apps in Quick Find field and select
Build&gt;Create&gt;Apps:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image32.png"><p>You will be able to see all applications that are available in your
account.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image33.png"><p>Click &quot;Edit&quot; next to the Sample Console application.</p><p>Scroll to the bottom of the page and &quot;Assign to Profiles&quot;</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image34.png"><p>In this example, I&#x27;m assigning Sample console as Visible to System
Administrator.</p><p>Choose <strong>Save</strong>.</p><p>From Setup, type Call Centers in the Quick Find field and select Call
Centers.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image35.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image36.png"><p>Select &quot;Amazon Connect CCP Adapter Console 3.9&quot;</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image37.png"><p>Replace the <strong>CTI Adapter URL</strong> with the AC Lightning Adapter visualforce page url you copied in the previous section.
If you wish to specify your version of the ccp user interface, add &quot;?ccpVersion=x&quot;, where x is the version of the ccp
(either 1 or 2). Click on the Save button.</p><p>Click on the &quot;Manage Call Center Users&quot; button at the bottom of the
page.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image38.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image39.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image40.png"><p>Set filters and click on the Find button. Select the checkbox next to
the user and click &quot;Add to Call Center&quot; button.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image41.png"><p>Repeat the steps to add more users.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image42.png"><p>From the top-right corner, select Sample Console application.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image43.png"><p>In the bottom-right corner, you will be able to see the Phone button.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image44.png"><p>Click on the Phone button to open the softphone pop-up.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image45.png"><p>You will need to Sign in into your Amazon Connect CCP. Click on the Sign
in to CCP button. A new modal pop-up will show, asking you to enter your
credentials.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image46.png"><p>Enter your credentials and click Sign in. Allow Microphone access (if
asked by browser). Once login is successful, the pop-up window will
automatically close.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image47.png"><p>Select &quot;Change status&quot; and select &quot;Available&quot;.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image48.png"><p>Make an inbound phone call to your Amazon Connect instance. The CCP is
going to &quot;ring&quot; and you can answer the call.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image49.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image50.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configure-classic-experience"></a>Configure Classic Experience<a class="hash-link" href="#configure-classic-experience" title="Direct link to heading">#</a></h2><p>The Salesforce Classic is the easiest to configure, but it has some
limitations. Most important limitation is that, with Classic layout,
there are no tabs and modal containers, so each time new object is
selected, a full page reload occurs. This full reload causes softphone
to be reloaded too, which could cause an issue in the voice call audio
stream. Because of that, in the Classic environment, we have to run a
separate instance of softphone (CPP) which will carry the audio, while
embedded instance of CCP can be used for call control and screen-pop
functionality.</p><p>First, we have to configure Amazon Connect integration.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image21.png"><p>From the top right corner, select the Sales application.</p><p>In the top navigation bar, select the &quot;+&quot; icon.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image22.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image23.png"><p>Select &quot;AC CTI Adapters&quot;</p><p>Create a new adapter. Fill in the CTI Adapter Name. For the Call Center Definition Name, type in
ACConsoleAdapter. For the Amazon Connect Instance, type in the login url to the instance (this can be found
in the Amazon Connect Instance details page), removing everything after &quot;.com&quot;.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image328.png"><p>Select Save.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image24.png"><p>In the Quick Find field, type Visualforce Pages and select Visual Force
Pages:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image25.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image26.png"><p>As we are currently setting up the Classic experience, click on
AC_ClassicAdapter page</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image51.png"><p>Click on the Preview button. New browser tab will open with the URL of
this page. It&#x27;s going to be in this format:</p><div class="mdxCodeBlock_1zKU">https://sfdcInstance--amazonconnect.visualforce.com/apex/AC_ClassicAdapter</div><p>This is what we are going to use as &quot;Origin URL&quot; in our Amazon Connect
configuration. From AWS Console, select Amazon Connect service and then
select your Amazon Connect instance:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image52.png"><p>Select &quot;Application Integration&quot; on the left-hand side:</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image53.png"><p>Click on &quot;Add origin&quot; link and enter the origin URL</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image54.png"><p>Click &quot;Add&quot; button</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image55.png"><p>From the Salesforce Classic layout, select Setup then type Call Centers
in the Quick Find field and select Call Centers.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image35.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image36.png"><p>Select &quot;Amazon Connect CCP Adapter Classic 3.9&quot;</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image56.png"><p>Replace the <strong>CTI Adapter URL</strong> with the AC Lightning Adapter visualforce page url you copied in the previous section.
If you wish to specify your version of the ccp user interface, add &quot;?ccpVersion=x&quot;, where x is the version of the ccp
(either 1 or 2). Click on the Save button.</p><p>Click on the &quot;Manage Call Center Users&quot; button at the bottom of the
page.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image38.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image57.png"><p>Click on the &quot;Add More Users&quot; button.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image58.png"><p>Set filters and click on the Find button. Select the checkbox next to
the user and click &quot;Add to Call Center&quot; button.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image59.png"><p>Repeat the steps to add more users.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image60.png"><p>From the top-right corner, select Sales application.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image21.png"><p>On the left-hand side, you will be able to see the Phone container.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image61.png"><p>You will need to Sign in into your Amazon Connect CCP. Click on the Sign
in to CCP button. A new browser tab will open, asking you to enter your
credentials.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image62.png"><p>Enter your credentials and click Sign in. Allow Microphone access (if
asked by browser). Once Login is successful, the new tab with CCP will
stay open, as this tab is going to carry the audio for voice calls.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image63.png"><p>Switch back to Salesforce tab in your browser.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image64.png"><p>Select &quot;Change status&quot; and select &quot;Available&quot;.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image65.png"><p>Make an inbound phone call to your Amazon Connect instance. The CCP is
going to &quot;ring&quot; and you can answer the call.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image66.png"><img src="/amazon-connect-salesforce-cti-staging/img/classic/image67.png"><p>Some CTI Flow features will reload the page the agent is currently on.
The page is fully reloaded, but the softphone preserved the audio
stream, as another instance of CCP was running in the 2^nd^ tab. If the
2nd tab is closed, the audio will be lost. The 2^nd^ CCP instance can
also run in a separate browser window, if preferred.</p><p>Go to Salesforce Setup page and type Call Centers in Quick Find, then
select Call Centers.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image68.png"><p>Select &quot;Amazon Connect CCP Classic&quot;</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image69.png"><p>Click on the Edit button and find the &quot;Amazon Connect CCP Login Popup&quot;
field. By default, this field is set to &quot;false&quot;, which means that Login
Popup will be opened in a 2nd tab. If we change this value to &quot;true&quot;,
then Login Popup will be opened in a new browser window.</p><p>You may also notice that &quot;Amazon Connect CCP Medialess&quot; field is set to
&quot;true&quot;. This basically means that embedded CCP instance will not carry
any media. Set the value to &quot;true&quot; and click on the Save button. Go back
to Sales application. If CCP is already logged in, please log out.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image70.png"><p>Click on the &quot;Sign in to CCP&quot; button and new browser window will open,
asking you for credentials.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image71.png"><p>Enter your credentials and click Sign In. The CCP application will
login, but popup window will stay open and it will host the 2^nd^ CCP
which will carry the audio stream. This window can be minimized or moved
to 2^nd^ screen.</p><img src="/amazon-connect-salesforce-cti-staging/img/classic/image72.png"></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/classic/02-installation/01-installing-the-amazon-connect-cti-adapter.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/01-introduction/01-key-benefits-and-requirements"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Key Benefits and Requirements</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/amazon-connect-salesforce-cti-staging/docs/classic/02-installation/02-installing-the-amazon-connect-salesforce-lambdas"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installing the Amazon Connect Salesforce Lambda Package Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lightning-flow-setup-installation" class="table-of-contents__link">Lightning Flow Setup Installation</a></li><li><a href="#installing-from-the-salesforce-appexchange" class="table-of-contents__link">Installing from the Salesforce AppExchange</a></li><li><a href="#create-the-softphone-layout" class="table-of-contents__link">Create the Softphone Layout</a></li><li><a href="#set-access-permissions" class="table-of-contents__link">Set Access Permissions</a><ul><li><a href="#ac_administrator" class="table-of-contents__link">AC_Administrator</a></li><li><a href="#ac_manager" class="table-of-contents__link">AC_Manager</a></li><li><a href="#ac_agent" class="table-of-contents__link">AC_Agent</a></li></ul></li><li><a href="#configure-console-experience" class="table-of-contents__link">Configure Console Experience</a></li><li><a href="#configure-classic-experience" class="table-of-contents__link">Configure Classic Experience</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/amazon-connect-salesforce-cti-staging/styles.63fe7873.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/runtime~main.23cd4c62.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/main.96c03511.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/1.248d282d.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/2.114b150d.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/64.f255480a.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/65.b29e5dff.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/935f2afb.ac0f6373.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/17896441.1a1be381.js"></script>
<script src="/amazon-connect-salesforce-cti-staging/68942107.5c849b8a.js"></script>
</body>
</html>